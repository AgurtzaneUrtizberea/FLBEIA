{
    "contents" : "    \n    rm(list=ls())\n    \n    #==============================================================================\n    # Section 1:            Charge libraries\n    #==============================================================================\n    \n    library(FLCore) \n    library(FLAssess)\n    library(FLash)\n    library(Rdonlp2)\n    library(FLFleet)\n    library(FLBEIA) \n    \n    #==============================================================================\n    # Section 2:            Set directory and Load the data\n    #==============================================================================\n    \n    setwd('c:/use/agur/proyectos/Myfish/FLBEIA')\n    \n    \n    #==============================================================================\n    # Section 3:            Load the data\n    #==============================================================================\n    \n    load(file='Input/biol.data.RData')\n    load(file='Input/SR.model.RData')\n    \n    first.yr          <- 1980\n    proj.yr           <- 2013 \n    last.yr           <- 2015  \n    \n    \n    stks <- c('HKE','HOM','LDB','MEG','MON')\n    \n    \n    # all stocks the same\n    ni             <- 3\n    ns             <- 1\n    \n    # stock hke\n    HKE.age.min   <- 0\n    HKE.age.max    <- 15\n    HKE.unit       <- 1         \n    \n    # stock hom\n    HOM.age.min    <- 0\n    HOM.age.max    <- 11\n    HOM.unit       <- 1         \n    \n    # stock ldb\n    LDB.age.min    <- 0\n    LDB.age.max    <- 7\n    LDB.unit       <- 1         \n    \n    # stock meg\n    MEG.age.min    <- 1\n    MEG.age.max    <- 7\n    MEG.unit       <- 1         \n    \n    # stock mon\n    MON.age.min    <- 0\n    MON.age.max    <- 30\n    MON.unit       <- 1         \n    #==============================================================================\n    # Section 6:            biols\n    #==============================================================================\n    #  Historical data\n    #  stk1_n.flq, m, spwn, fec, wt\n    #==============================================================================\n    \n    #stock hke\n    HKE_n.flq     <- FLQuant(as.FLQuant(as.matrix(n_hke),dimnames=list(age=0:15,year=1982:2012)),dimnames=list(year=1980:2012))\n    HKE_m.flq     <- FLQuant(as.FLQuant(as.vector(m_hke),dimnames=list(age=0:15,year=1982:2012)),dimnames=list(year=1980:2012))\n    HKE_spwn.flq  <- FLQuant(as.FLQuant(0,dimnames=list(age=0:15,year=1982:2012)),dimnames=list(year=1980:2012))\n    HKE_fec.flq   <- FLQuant(as.FLQuant(as.vector(f_hke),dimnames=list(age=0:15,year=1982:2012)),dimnames=list(year=1980:2012))\n    HKE_wt.flq    <- FLQuant(as.FLQuant(as.matrix(w_hke),dimnames=list(age=0:15,year=1982:2012)),dimnames=list(year=1980:2012))\n    \n    HKE_range.min       <- 0\n    HKE_range.max       <- 15\n    HKE_range.plusgroup <- 15\n    HKE_range.minyear   <- 1982\n    HKE_range.minfbar   <- 0\n    HKE_range.maxfbar   <- 15\n    \n    # stock hom\n    HOM_n.flq     <- FLQuant(as.FLQuant(as.matrix(n_hom),dimnames=list(age=0:11,year=1992:2012)),dimnames=list(year=1980:2012))\n    HOM_m.flq     <- FLQuant(as.FLQuant(as.matrix(m_hom),dimnames=list(age=0:11,year=1992:2012)),dimnames=list(year=1980:2012))\n    HOM_spwn.flq  <- FLQuant(as.FLQuant(0,dimnames=list(age=0:11,year=1992:2012)),dimnames=list(year=1980:2012))\n    HOM_fec.flq   <- FLQuant(as.FLQuant(as.vector(f_hom),dimnames=list(age=0:11,year=1992:2012)),dimnames=list(year=1980:2012))\n    HOM_wt.flq    <- FLQuant(as.FLQuant(as.matrix(w_hom),dimnames=list(age=0:11,year=1992:2012)),dimnames=list(year=1980:2012))\n    \n    HOM_range.min       <- 0\n    HOM_range.max       <- 11\n    HOM_range.plusgroup <- 11\n    HOM_range.minyear   <- 1992\n    HOM_range.minfbar   <- 0\n    HOM_range.maxfbar   <- 11\n    \n    \n    # stock ldb\n    LDB_n.flq     <- FLQuant(as.FLQuant(as.matrix(n_ldb),dimnames=list(age=0:7,year=1986:2012)),dimnames=list(year=1980:2012))\n    LDB_m.flq     <- FLQuant(as.FLQuant(0.2,dimnames=list(age=0:7,year=1986:2012)),dimnames=list(year=1980:2012))\n    LDB_spwn.flq  <- FLQuant(as.FLQuant(0,dimnames=list(age=0:7,year=1986:2012)),dimnames=list(year=1980:2012))\n    LDB_fec.flq   <- FLQuant(as.FLQuant(as.matrix(f_ldb),dimnames=list(age=0:7,year=1986:2012)),dimnames=list(year=1980:2012))\n    LDB_wt.flq    <- FLQuant(as.FLQuant(as.matrix(w_ldb),dimnames=list(age=0:7,year=1986:2012)),dimnames=list(year=1980:2012))\n    \n    LDB_range.min       <- 0\n    LDB_range.max       <- 7\n    LDB_range.plusgroup <- 7\n    LDB_range.minyear   <- 1986\n    LDB_range.minfbar   <- 0\n    LDB_range.maxfbar   <- 7\n    \n    # stock meg\n    MEG_n.flq     <- FLQuant(as.FLQuant(as.matrix(n_meg),dimnames=list(age=1:7,year=1986:2012)),dimnames=list(year=1980:2012))\n    MEG_m.flq     <- FLQuant(as.FLQuant(0.2,dimnames=list(age=1:7,year=1986:2012)),dimnames=list(year=1980:2012))\n    MEG_spwn.flq  <- FLQuant(as.FLQuant(0,dimnames=list(age=1:7,year=1986:2012)),dimnames=list(year=1980:2012))\n    MEG_fec.flq   <- FLQuant(as.FLQuant(as.matrix(f_meg),dimnames=list(age=1:7,year=1986:2012)),dimnames=list(year=1980:2012))\n    MEG_wt.flq    <- FLQuant(as.FLQuant(as.matrix(w_meg),dimnames=list(age=1:7,year=1986:2012)),dimnames=list(year=1980:2012))\n    \n    MEG_range.min       <- 1\n    MEG_range.max       <- 7\n    MEG_range.plusgroup <- 7\n    MEG_range.minyear   <- 1986\n    MEG_range.minfbar   <- 1\n    MEG_range.maxfbar   <- 7\n    \n    # stock mon\n    MON_n.flq     <- as.FLQuant(as.matrix(n_mon),dimnames=list(age=0:30,year=1980:2012))\n    MON_m.flq     <- as.FLQuant(0.2,dimnames=list(age=0:30,year=1980:2012))\n    MON_spwn.flq  <- as.FLQuant(0,dimnames=list(age=0:30,year=1980:2012))\n    MON_fec.flq   <- as.FLQuant(as.vector(f_mon),dimnames=list(age=0:30,year=1980:2012))\n    MON_wt.flq    <- as.FLQuant(as.matrix(w_mon),dimnames=list(age=0:30,year=1980:2012))\n    \n    MON_range.min       <- 0\n    MON_range.max       <- 30\n    MON_range.plusgroup <- 30\n    MON_range.minyear   <- 1980\n    MON_range.minfbar   <- 0\n    MON_range.maxfbar   <- 30\n    \n    #               Projection: \n    #  we assume that the projection values of some variables are equal to \n    #  the average of some historical years:weight,fecundity,mortality and spawning    \n    \n    HKE_biol.proj.avg.yrs  <- c(2010:2012)\n    HOM_biol.proj.avg.yrs  <- c(2010:2012)\n    LDB_biol.proj.avg.yrs  <- c(2010:2012)\n    MEG_biol.proj.avg.yrs  <- c(2010:2012)\n    MON_biol.proj.avg.yrs  <- c(2010:2012)\n    \n    #==============================================================================\n    #  Section 8:       SRs\n    #==============================================================================\n    \n    HKE_sr.model        <- 'bevholt'\n    HKE_params.n        <- 2\n    HKE_params.name     <- c('a','b') \n    HKE_params.array    <- array(as.vector(sr.hke.bh.cervino@params),dim = c(HKE_params.n,length(first.yr:last.yr),ns,ni), \n                                 dimnames = list(param=HKE_params.name,year = ac(first.yr:last.yr),season=ac(1:ns), iter = 1:ni))   \n    \n    HKE_rec.flq         <- FLQuant(sr.hke.bh.cervino@rec,dimnames=list(year=1980:2012))             \n    HKE_ssb.flq         <- FLQuant(sr.hke.bh.cervino@ssb,dimnames=list(year=1980:2012))    \n    HKE_uncertainty.flq <- as.FLQuant(sd.bh,dimnames=list(year=1980:last.yr))     \n    HKE_proportion.flq  <- FLQuant(sd.bh,dimnames=list(year=1980:last.yr))\n    HKE_prop.avg.yrs    <- ac(2006:2008)\n    HKE_timelag.matrix  <- matrix(c(1,0),2,ns, dimnames = list(c('year', 'season'),season = 1:ns)) \n    \n    \n    HOM_sr.model        <- 'segreg'\n    HOM_params.n        <- 2\n    HOM_params.name     <- c('a','b') \n    HOM_params.array    <- array(as.vector(sr.hom@params),dim = c(HOM_params.n,length(first.yr:last.yr),ns,ni), \n                                 dimnames = list(param=HOM_params.name,year = ac(first.yr:last.yr),season=ac(1:ns), iter = 1:ni))   \n    \n    HOM_rec.flq         <- FLQuant(sr.hom@rec,dimnames=list(year=1980:2012))             \n    HOM_ssb.flq         <- FLQuant(sr.hom@ssb,dimnames=list(year=1980:2012))    \n    #     HOM_uncertainty.flq <- as.FLQuant(read.csv(file = 'data/stk1_uncertainty.csv'))     \n    HOM_proportion.flq  <- FLQuant(1,dimnames=list(year=1980:last.yr))\n    HOM_prop.avg.yrs    <- ac(2006:2008)\n    HOM_timelag.matrix  <- matrix(c(1,0),2,ns, dimnames = list(c('year', 'season'),season = 1:ns)) \n    \n    LDB_sr.model        <- 'segreg'\n    LDB_params.n        <- 2\n    LDB_params.name     <- c('a','b') \n    LDB_params.array    <- array(as.vector(sr.ldb@params),dim = c(LDB_params.n,length(first.yr:last.yr),ns,ni), \n                                 dimnames = list(param=LDB_params.name,year = ac(first.yr:last.yr),season=ac(1:ns), iter = 1:ni))   \n    \n    LDB_rec.flq         <- FLQuant(sr.ldb@rec,dimnames=list(year=1980:2012))             \n    LDB_ssb.flq         <- FLQuant(sr.ldb@ssb,dimnames=list(year=1980:2012))    \n    #     LDB_uncertainty.flq <- as.FLQuant(read.csv(file = 'data/stk1_uncertainty.csv'))     \n    LDB_proportion.flq  <- FLQuant(1,dimnames=list(year=1980:last.yr))\n    LDB_prop.avg.yrs    <- ac(2006:2008)\n    LDB_timelag.matrix  <- matrix(c(1,0),2,ns, dimnames = list(c('year', 'season'),season = 1:ns)) \n    \n    \n    MEG_sr.model        <- 'segreg'\n    MEG_params.n        <- 2\n    MEG_params.name     <- c('a','b') \n    MEG_params.array    <- array(as.vector(sr.meg@params),dim = c(MEG_params.n,length(first.yr:last.yr),ns,ni), \n                                 dimnames = list(param=MEG_params.name,year = ac(first.yr:last.yr),season=ac(1:ns), iter = 1:ni))   \n    \n    MEG_rec.flq         <- FLQuant(sr.meg@rec,dimnames=list(year=1980:2012))             \n    MEG_ssb.flq         <- FLQuant(sr.meg@ssb,dimnames=list(year=1980:2012))    \n    #     MEG_uncertainty.flq <- as.FLQuant(read.csv(file = 'data/stk1_uncertainty.csv'))     \n    MEG_proportion.flq  <- FLQuant(1,dimnames=list(year=1980:last.yr))\n    MEG_prop.avg.yrs    <- ac(2006:2008)\n    MEG_timelag.matrix  <- matrix(c(2,0),2,ns, dimnames = list(c('year', 'season'),season = 1:ns)) \n    \n    \n    MON_sr.model        <- 'segreg'\n    MON_params.n        <- 2\n    MON_params.name     <- c('a','b') \n    MON_params.array    <- array(as.vector(sr.mon@params),dim = c(MON_params.n,length(first.yr:last.yr),ns,ni), \n                                 dimnames = list(param=MON_params.name,year = ac(first.yr:last.yr),season=ac(1:ns), iter = 1:ni))   \n    \n    MON_rec.flq         <- FLQuant(sr.mon@rec,dimnames=list(year=1980:2012))             \n    MON_ssb.flq         <- FLQuant(sr.mon@ssb,dimnames=list(year=1980:2012))    \n    #     MON_uncertainty.flq <- as.FLQuant(read.csv(file = 'data/stk1_uncertainty.csv'))     \n    MON_proportion.flq  <- FLQuant(1,dimnames=list(year=1980:last.yr))\n    MON_prop.avg.yrs    <- ac(2006:2008)\n    MON_timelag.matrix  <- matrix(c(1,0),2,ns, dimnames = list(c('year', 'season'),season = 1:ns)) \n    \n    \n    SRs      <- create.SRs.data()\n    save(SRs,file='R/SRs_HKE_bh.RData')\n    \n",
    "created" : 1385476889461.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "165007415",
    "id" : "2B136E60",
    "lastKnownWriteTime" : 1385490555,
    "path" : "~/agur/proyectos/Myfish/FLBEIA/R/MYfish_SR_bh.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}